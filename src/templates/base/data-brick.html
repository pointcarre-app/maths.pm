<data-brick>
  <div id="domain-config"
       data-domain_yaml_path="domains/maths-pm.yml"
       data-domain_url="{{ DOMAIN_CONFIG['domain_url'] }}"
       {% for key, value in DOMAIN_CONFIG['domain_specific_metatags'].items() %}
         data-domain_specific_metatags.{{ key }}="{{ value }}"
       {% endfor %}
       {% for key, value in DOMAIN_CONFIG['index_view_specific_metatags'].items() %}
         data-index_view_specific_metatags.{{ key }}="{{ value }}"
       {% endfor %}
       {% for key, value in DOMAIN_CONFIG['extra_head'].items() %}
         data-extra_head.{{ key }}="{{ value }}"
       {% endfor %}
       {% for key, value in DOMAIN_CONFIG['templating'].items() %}
         data-templating.{{ key }}="{{ value }}"
       {% endfor %}>
  </div>

  <!-- Product-specific settings - each product has its own namespace -->
  <div id="products-settings"
       {% for product_name, settings_json in products_settings.items() %}
         data-{{ product_name }}="{{ settings_json }}"
       {% endfor %}>
  </div>

  <!-- Domain-level settings (if any) -->
  <div id="domain-settings" data-settings="{{ domain_settings }}"></div>

  <!-- Legacy elements - remove these once all JS is updated -->
  <div id="nagini-settings" data-endpoint=""></div>

  <div id="pca-corpus-settings" data-endpoint="" data-paths-to-load="[]"></div>

  <div id="pca-teachers-settings" data-endpoint="" data-paths-to-load="[]"></div>

  <div id="pronoia-sujets-0-qcm-config"
       data-partie="1"
       data-partie-rdb="Automatismes"
       data-generation-mode="maths"></div>
</data-brick>
