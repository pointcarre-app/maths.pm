<figure class="m-0 p-0 rounded-none w-full h-full flex items-center justify-center">
  <svg viewBox="0 50 420 150"
       width="100%"
       height="100%"
       xmlns="http://www.w3.org/2000/svg"
       class="block m-0 p-0"
       preserveAspectRatio="xMidYMid meet">

    <!-- Define markers and patterns -->
    <defs>
    <!-- Arrow marker -->
    <marker id="arrow-green" markerWidth="4" markerHeight="4" refX="0" refY="2" orient="auto" class="fill-success">
    <polygon points="0 0, 4 2, 0 4" />
    </marker>

    <!-- Blocked marker (X) -->
    <marker id="blocked" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
    <line x1="2" y1="2" x2="8" y2="8" class="stroke-error" stroke-width="2" />
    <line x1="8" y1="2" x2="2" y2="8" class="stroke-error" stroke-width="2" />
    </marker>

    <!-- Pattern for crossed out area -->
    <pattern id="crosshatch" patternUnits="userSpaceOnUse" width="8" height="8">
    <line x1="0" y1="0" x2="8" y2="8" class="stroke-error" stroke-width="0.5" opacity="0.3" />
    <line x1="8" y1="0" x2="0" y2="8" class="stroke-error" stroke-width="0.5" opacity="0.3" />
    </pattern>
    </defs>

    <!-- Title -->
    <!--<text x="160" y="25" text-anchor="middle" class="fill-base-content" font-size="14" font-weight="600">
    Architecture Zero-Data
</text>-->

    <!-- LEFT SIDE: What we DO (Static files) -->
    <g id="static-side">
    <!-- Student/User -->
    <g>
    <circle cx="50" cy="75" r="15" class="fill-secondary-soft" />
    <circle cx="50" cy="75" r="15" class="stroke-secondary fill-none" stroke-width="1.5" opacity="0.8" />
    <!-- User icon -->
    <g transform="translate(42, 67) scale(0.6)">
    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" class="stroke-secondary" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    <circle cx="12" cy="7" r="4" class="stroke-secondary" fill="none" stroke-width="2" />
    </g>
    <text x="50" y="100" text-anchor="middle" class="fill-base-content" font-size="10" font-weight="500">Élève</text>
    </g>

    <!-- Arrow: Request -->
    <line x1="67" y1="75" x2="118" y2="75" class="stroke-success" stroke-width="1.5" opacity="0.8" marker-end="url(#arrow-green)" />
    <text x="92" y="65" text-anchor="middle" class="fill-success" font-size="8" opacity="0.8">demande</text>

    <!-- Static Server -->
    <g>
    <rect x="130" y="60" width="30" height="30" rx="3" class="fill-success-soft" />
    <rect x="130" y="60" width="30" height="30" rx="3" class="stroke-success fill-none" stroke-width="1.5" opacity="0.8" />
    <!-- File icon -->
    <g transform="translate(137, 67) scale(0.6)">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" class="stroke-success" fill="none" stroke-width="2" />
    <polyline points="14 2 14 8 20 8" class="stroke-success" fill="none" stroke-width="2" />
    </g>
    <text x="145" y="100" text-anchor="middle" class="fill-base-content" font-size="10" font-weight="500">Fichiers</text>
    <text x="145" y="110" text-anchor="middle" class="fill-base-content" font-size="8" opacity="0.6">statiques</text>
    </g>

    <!-- Arrow: Response -->
    <line x1="118" y1="85" x2="67" y2="85" class="stroke-success" stroke-width="1.5" opacity="0.8" marker-end="url(#arrow-green)" />
    <text x="92" y="95" text-anchor="middle" class="fill-success" font-size="8" opacity="0.8">contenu</text>

    <!-- Check marks for what we DO -->
    <g transform="translate(10, 140)">
    <circle cx="10" cy="0" r="8" class="fill-success" opacity="0.2" />
    <path d="M6 0 L9 3 L14 -2" class="stroke-success fill-none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    <text x="25" y="3" class="fill-base-content" font-size="9">Pas de cookies</text>
    </g>

    <g transform="translate(10, 160)">
    <circle cx="10" cy="0" r="8" class="fill-success" opacity="0.2" />
    <path d="M6 0 L9 3 L14 -2" class="stroke-success fill-none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    <text x="25" y="3" class="fill-base-content" font-size="9">Pas de tracking</text>
    </g>

    <g transform="translate(10, 180)">
    <circle cx="10" cy="0" r="8" class="fill-success" opacity="0.2" />
    <path d="M6 0 L9 3 L14 -2" class="stroke-success fill-none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    <text x="25" y="3" class="fill-base-content" font-size="9">Conforme RGPD (par défaut)</text>
    </g>
    </g>

    <!-- DIVIDER -->
    <line x1="210" y1="50" x2="210" y2="200" class="stroke-base-content" stroke-width="1" opacity="0.2" stroke-dasharray="4,4" />

    <!-- RIGHT SIDE: What we DON'T DO (Data collection) -->
    <g id="data-collection-side" opacity="0.5">
    <!-- User with data being extracted -->
    <g>
    <circle cx="270" cy="75" r="15" class="fill-error" opacity="0.15" />
    <circle cx="270" cy="75" r="15" class="stroke-error fill-none" stroke-width="1.5" opacity="0.5" stroke-dasharray="2,2" />
    <!-- User icon -->
    <g transform="translate(262, 67) scale(0.6)">
    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" class="stroke-error" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    <circle cx="12" cy="7" r="4" class="stroke-error" fill="none" stroke-width="2" />
    </g>
    <text x="270" y="100" text-anchor="middle" class="fill-error" font-size="10" font-weight="500">Utilisateur</text>
    </g>

    <!-- Blocked arrow to database -->
    <line x1="287" y1="75" x2="343" y2="75" class="stroke-error" stroke-width="1.5" opacity="0.5" stroke-dasharray="2,2" />
    <text x="315" y="65" text-anchor="middle" class="fill-error" font-size="8" opacity="0.6">données</text>

    <!-- Database (crossed out) -->
    <g>
    <ellipse cx="360" cy="75" rx="15" ry="6" class="fill-error" opacity="0.1" />
    <ellipse cx="360" cy="75" rx="15" ry="6" class="stroke-error fill-none" stroke-width="1.5" opacity="0.5" stroke-dasharray="2,2" />
    <ellipse cx="360" cy="79" rx="15" ry="6" class="stroke-error fill-none" stroke-width="1.5" opacity="0.5" stroke-dasharray="2,2" />
    <ellipse cx="360" cy="83" rx="15" ry="6" class="stroke-error fill-none" stroke-width="1.5" opacity="0.5" stroke-dasharray="2,2" />
    <!-- Big X over database -->
    <line x1="348" y1="63" x2="372" y2="87" class="stroke-error" stroke-width="3" opacity="0.8" />
    <line x1="372" y1="63" x2="348" y2="87" class="stroke-error" stroke-width="3" opacity="0.8" />
    <text x="360" y="100" text-anchor="middle" class="fill-error" font-size="10" font-weight="500" text-decoration="line-through">Base de</text>
    <text x="360" y="110" text-anchor="middle" class="fill-error" font-size="10" font-weight="500" text-decoration="line-through">données</text>
    </g>

    <!-- X marks for what we DON'T DO -->
    <g transform="translate(240, 140)">
    <circle cx="10" cy="0" r="8" class="fill-error" opacity="0.2" />
    <line x1="6" y1="-4" x2="14" y2="4" class="stroke-error" stroke-width="2" />
    <line x1="14" y1="-4" x2="6" y2="4" class="stroke-error" stroke-width="2" />
    <text x="25" y="3" class="fill-error" font-size="9">Analytics</text>
    </g>

    <g transform="translate(240, 160)">
    <circle cx="10" cy="0" r="8" class="fill-error" opacity="0.2" />
    <line x1="6" y1="-4" x2="14" y2="4" class="stroke-error" stroke-width="2" />
    <line x1="14" y1="-4" x2="6" y2="4" class="stroke-error" stroke-width="2" />
    <text x="25" y="3" class="fill-error" font-size="9">Profils utilisateur</text>
    </g>

    <g transform="translate(240, 180)">
    <circle cx="10" cy="0" r="8" class="fill-error" opacity="0.2" />
    <line x1="6" y1="-4" x2="14" y2="4" class="stroke-error" stroke-width="2" />
    <line x1="14" y1="-4" x2="6" y2="4" class="stroke-error" stroke-width="2" />
    <text x="25" y="3" class="fill-error" font-size="9">Historique</text>
    </g>
    </g>

    <!-- Bottom banner -->
    <!--<rect x="10" y="210" width="300" height="50" rx="8" class="fill-secondary-soft stroke-secondary" stroke-width="1" opacity="0.8" />
    <text x="160" y="230" text-anchor="middle" class="fill-secondary" font-size="12" font-weight="600">
    100% Statique = 0% Collecte de données
    </text>
    <text x="160" y="245" text-anchor="middle" class="fill-base-content" font-size="10" opacity="0.7">
    Votre vie privée est respectée par design
</text> -->

    <!-- Subtle animation: pulse on the static server -->
    <circle cx="145" cy="75" r="20" class="fill-none stroke-success" stroke-width="1" opacity="0">
    <animate attributeName="r" values="20;28;20" dur="3s" repeatCount="indefinite" />
    <animate attributeName="opacity" values="0.5;0;0.5" dur="3s" repeatCount="indefinite" />
    </circle>

    <!-- Flow dots on the left (working) side only -->
    <circle r="1.5" class="fill-success" opacity="0">
    <animate attributeName="opacity" values="0;0.8;0.8;0" dur="2s" repeatCount="indefinite" />
    <animateMotion dur="2s" repeatCount="indefinite">
    <mpath href="#request-path" />
    </animateMotion>
    </circle>

    <circle r="1.5" class="fill-success" opacity="0">
    <animate attributeName="opacity" values="0;0.8;0.8;0" dur="2s" begin="1s" repeatCount="indefinite" />
    <animateMotion dur="2s" begin="1s" repeatCount="indefinite">
    <mpath href="#response-path" />
    </animateMotion>
    </circle>

    <!-- Define animation paths -->
    <path id="request-path" d="M 50 75 L 145 75" fill="none" opacity="0" />
    <path id="response-path" d="M 145 85 L 50 85" fill="none" opacity="0" />

  </svg>
</figure>
