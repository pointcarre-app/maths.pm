<div class="card p-0 mx-auto shadow-lg" style="max-width: 450px;border-radius: var(--radius-box);">
  <!-- Safari-compatible fixed height container -->
  <div class="bg-base-200/80"
       style="height: 120px;
              position: relative;
              border-top-left-radius: var(--radius-box);
              border-top-right-radius: var(--radius-box)">
    {% if product.figure_png %}
      <figure class="m-0 p-0 rounded-none bg-white"
              style="width: 100%;
                     height: 100%;
                     display: flex;
                     align-items: center;
                     justify-content: center;
                     padding: 1rem">
        <img src="{{ product.figure_png }}"
             alt="{{ product.name }} Logo"
             width="400"
             height="96"
             style="max-width: 100%;
                    max-height: 100%;
                    width: auto;
                    height: auto;
                    object-fit: contain" />
      </figure>
    {% elif product.figure_svg %}
      {% set svg_path = "products/" + product.figure_svg %}
      {% include svg_path %}
    {% endif %}
  </div>

  <hr class="border-base-200" />
  <div class="card-body bg-base-100 py-8"
       style="border-bottom-left-radius: var(--radius-box);
              border-bottom-right-radius: var(--radius-box)">
    <div class="flex flex-row items-center justify-between mb-3">
      <h2 class="card-title text-2xl gap-0 {{ product.font_class }}">{{ product.title_html|safe }}</h2>
      <div>
        {% if product.classes_formatted %}
          {% for class_name in product.classes_formatted %}
            <span class="badge badge-outline badge-sm sm:badge-md font-mono">{{ class_name|safe }}</span>
          {% endfor %}
        {% endif %}
      </div>
    </div>
    <p class="text-sm mb-4">{{ product.description | safe }}</p>
    <div class="flex flex-row gap-4">

      {% if product.is_beta %}
        {# Todo sel:low : check possibility of query parameter ? #}
        <a class="btn cursor-pointer btn-sm w-full" href="/contact">Acc√®s version beta</a>
        {# <span class="badge badge-outline badge-sm sm:badge-md font-mono">Beta</span> #}
      {% else %}

        {% if product.source_link %}
          <a href="{{ product.source_link }}" class="btn cursor-pointer btn-sm btn-outline w-full">
            <svg xmlns="http://www.w3.org/2000/svg"
                 width="16"
                 height="16"
                 viewBox="0 0 24 24"
                 fill="none"
                 stroke="currentColor"
                 stroke-width="2"
                 stroke-linecap="round"
                 stroke-linejoin="round"
                 class="lucide lucide-code-icon lucide-code">
              <path d="m16 18 6-6-6-6"></path>
              <path d="m8 6-6 6 6 6"></path>
            </svg>
            <span>Code source</span>
          </a>
        {% else %}
          <a href="{{ product.local_path }}" class="btn cursor-pointer btn-sm btn-soft btn-primary w-full">
            <svg aria-label="GitHub logo"
                 width="16"
                 height="16"
                 xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 24 24"
                 fill="none"
                 stroke="currentColor"
                 stroke-width="2"
                 stroke-linecap="round"
                 stroke-linejoin="round"
                 class="lucide lucide-external-link-icon lucide-external-link">
              <path d="M15 3h6v6"></path>
              <path d="M10 14 21 3"></path>
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
            </svg>
            {% if product.product_type == "repo" %}
              Tutoriel
            {% else %}
              Application
            {% endif %}
          </a>

        {% endif %}


      {% endif %}
    </div>
  </div>
</div>
{#

                  {% if product.source_link %}
                    w-1/2
                  {% else %}
                    w-full
                  {% endif %} #}
