<!-- Toast container for notifications -->
{# TODO: sel ? still useful ? #}
<div id="toast-container" class="toast toast-top toast-center"></div>

<!-- Toggle buttons -->
{# <style>
     @keyframes spin-then-scale {
         0% {
             transform: rotate(0deg) scale(1);
         }

         50% {
             transform: rotate(360deg) scale(1);
         }

         100% {
             transform: rotate(360deg) scale(1.2);
         }
     }

     .spin-scale-hover:hover {
         animation: spin-then-scale 1s ease-in-out forwards;
     }
 </style> #}

{# <button class="btn btn-sm md:btn-md  btn-neutral btn-outline btn-active" data-tab="generate">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2" />
    <rect x="14" y="2" width="8" height="8" rx="1" />
  </svg>
  <span class="font-normal">G√©n√©rer<span class="hidden sm:inline">&nbsp;des exercices</span> </span>
</button>
<button class="btn btn-sm md:btn-md btn-outline btn-neutral" data-tab="documentation">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text-icon lucide-file-text">
    <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" />
    <path d="M14 2v4a2 2 0 0 0 2 2h4" />
    <path d="M10 9H8" />
    <path d="M16 13H8" />
    <path d="M16 17H8" />
  </svg>
  <span class="font-normal">
    <span class="hidden sm:inline">Lire la documentation</span>
    <span class="sm:hidden">Documentation</span>
  </span>
</button>
<button class="btn btn-sm md:btn-md btn-outline btn-neutral" data-tab="subjects">

  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden sm:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-landmark-icon lucide-landmark">
    <path d="M10 18v-7" />
    <path d="M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z" />
    <path d="M14 18v-7" />
    <path d="M18 18v-7" />
    <path d="M3 22h18" />
    <path d="M6 18v-7" />
  </svg>
  <span class="font-normal">
    <span class="hidden sm:inline">Consulter les sujets 0</span>
    <span class="sm:hidden">Sujets 0</span>
  </span>
</button> #}


<div class="fixed left-0 top-0 h-screen w-[calc(260px+1.5rem)] bg-base-100 text-base-content z-40 transition-transform duration-300 shadow -translate-x-full"
     id="left-sidebar">


  <ul class="menu p-4 min-h-full mt-12" style="width: 260px !important">
    {# <li>
      <a href="/sujets0" class="flex justify-between items-center" style="width: 100% !important">
        <span>G√©n√©ration d'exercices</span>
        <div class="p-1" style="border-radius: var(--radius-selector)">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2" />
            <rect x="14" y="2" width="8" height="8" rx="1" />
          </svg>
        </div>
      </a>
      <ul>
        <li>
          <a href="/sujets0" class="flex justify-between items-center">
            <span>Partie 1 : Automatismes</span>
            <span class="badge badge-secondary badge-soft badge-sm font-bold">7</span>
          </a>
        </li>
        <li>
          <a href="/sujets0" class="flex justify-between items-center">
            <span>Partie 2 : Exercices</span>
            <span class="badge badge-outline badge-sm font-bold">üèóÔ∏è</span>
          </a>
        </li>
        <li>
          <a href="/sujets0" class="flex justify-between items-center">
            <span>Documentation</span>
            <span class="badge badge-outline badge-sm font-bold">2</span>
          </a>
        </li>
      </ul>
    </li> #}
    <li class="mt-6">
      <div class="text-sm font-semibold mb-2">Largeur</div>
      <ul class="">
        <li>
          <button class="btn btn-sm btn-outline hover:bg-primary hover:text-primary-content w-full text-left"
                  data-width-selector="640px"
                  style="margin-bottom: 0.25rem;
                         padding-left: 0.75rem;
                         justify-content: flex-start;
                         font-weight: 300;
                         font-size: 0.875rem">üì± Petit (640px)</button>
        </li>
        <li>
          <button class="btn btn-sm btn-outline hover:bg-primary hover:text-primary-content w-full text-left"
                  data-width-selector="768px"
                  style="margin-bottom: 0.25rem;
                         padding-left: 0.75rem;
                         justify-content: flex-start;
                         font-weight: 300;
                         font-size: 0.875rem">üìÑ Moyen (768px)</button>
        </li>
        <li>
          <button class="btn btn-sm btn-outline hover:bg-primary hover:text-primary-content w-full text-left"
                  data-width-selector="1024px"
                  style="margin-bottom: 0.25rem;
                         padding-left: 0.75rem;
                         justify-content: flex-start;
                         font-weight: 300;
                         font-size: 0.875rem">üñ•Ô∏è Grand (1024px)</button>
        </li>
        {# <li>
          <button class="btn btn-sm btn-outline hover:bg-primary hover:text-primary-content w-full text-left" onclick="document.getElementById('pm-wrapper-max-width').style.maxWidth = 'none'" style="margin-bottom: 0.25rem; padding-left: 0.75rem; justify-content: flex-start; font-weight: 300; font-size: 0.875rem">üì∫ Plein √©cran</button>
        </li> #}
      </ul>
    </li>

    {% include "base/themes-selectable-list.html" %}

    <li class="mt-auto">
      <div class="join font-mono">
        <span class="badge join-item badge-neutral">1<sup>√®re</sup></span>
        <span class="badge join-item badge-secondary badge-soft">Sp√©. Maths</span>
      </div>
    </li>
  </ul>


  {# <li>
      <a href="/pronoia" class="flex justify-between items-center" style="width: 100% !important">
        <span>S'entra√Æner pour le Bac</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4" />
          <path d="M2 6h4" />
          <path d="M2 10h4" />
          <path d="M2 14h4" />
          <path d="M2 18h4" />
          <path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z" />
        </svg>
      </a>
      <ul class="">
        <li>
          <a href="/pronoia/sujets0automatismes">Partie 1 : Automatismes</a>
        </li>
        <li>
          <a class="hover:bg-primary hover:text-primary-content flex justify-between items-center">
            <span>Partie 2 : Exercices</span>
          </a>
        </li>
        <li>
          <a class="hover:bg-primary hover:text-primary-content flex justify-between items-center">
            <span>Sujet complet</span>
          </a>
        </li>
        <li>
          <a href="/exam/sujets0">Sujets 0 du minist√®re</a>
        </li>
        <li>
          <a class="hover:bg-primary hover:text-primary-content flex justify-between items-center">
            <span>Consignes officielles</span>
          </a>
        </li>
      </ul>
    </li> #}
  {# <ul class="menu p-4 min-h-full mt-12" style="width: 260px !important">
    <li>
      <a href="/sujets0" class="flex justify-between items-center" style="width: 100% !important">
        <span>G√©n√©ration d'exercices</span>
        <div class="p-1" style="border-radius: var(--radius-selector)">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2" />
            <rect x="14" y="2" width="8" height="8" rx="1" />
          </svg>
        </div>
      </a>
      <ul>
        <li>
          <a href="/dashboard" class="flex justify-between items-center">
            <span>Partie 1 : Automatismes</span>
            <span class="badge badge-secondary badge-soft badge-sm font-bold">7</span>
          </a>
        </li>
        <li>
          <a href="/dashboard" class="flex justify-between items-center">
            <span>Partie 2 : Exercices</span>
            <span class="badge badge-outline badge-sm font-bold">üèóÔ∏è</span>
          </a>
        </li>
        <li>
          <a href="/dashboard" class="flex justify-between items-center">
            <span>Documentation</span>
            <span class="badge badge-outline badge-sm font-bold">2</span>
          </a>
        </li>
      </ul>
    </li>
    <li>
      <a href="/pronoia" class="flex justify-between items-center" style="width: 100% !important">
        <span>S'entra√Æner pour le Bac</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4" />
          <path d="M2 6h4" />
          <path d="M2 10h4" />
          <path d="M2 14h4" />
          <path d="M2 18h4" />
          <path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z" />
        </svg>
      </a>
      <ul class="">
        <li>
          <a href="/pronoia/sujets0automatismes">Partie 1 : Automatismes</a>
        </li>
        <li>
          <a class="hover:bg-primary hover:text-primary-content flex justify-between items-center">
            <span>Partie 2 : Exercices</span>
          </a>
        </li>
        <li>
          <a class="hover:bg-primary hover:text-primary-content flex justify-between items-center">
            <span>Sujet complet</span>
          </a>
        </li>
        <li>
          <a href="/exam/sujets0">Sujets 0 du minist√®re</a>
        </li>
        <li>
          <a class="hover:bg-primary hover:text-primary-content flex justify-between items-center">
            <span>Consignes officielles</span>
          </a>
        </li>
      </ul>
    </li>
  </ul> #}
</div>


<button class="btn btn-lg btn-outline  fixed bottom-4 sm:bottom-8 left-4 sm:left-8 z-50 bg-base-200  shadow-lg hover:scale-105 transition-all duration-10 hover:text-primary"
        id="left-toggle"
        style="box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2) !important">
  <div class="w-6 h-6 hidden sm:block">{% include "base/logo-zelie-primary-menu.html" %}</div>
  <span style ="font-size: 0.95rem;font-weight: 300;font-family: var(--font-mono)">Menu</span>
</button>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Sidebar toggle functionality (independent of accessibility manager)
        const leftSidebar = document.getElementById("left-sidebar");
        const leftToggle = document.getElementById("left-toggle");

        if (leftToggle && leftSidebar) {
            leftToggle.addEventListener("click", () => {
                leftSidebar.classList.toggle("-translate-x-full");
            });
        }

        // Note: The accessibility manager (themes, fonts, widths) is handled by 
        // accessibility-manager.js which should be loaded in the base template
        // This keeps the drawer.html focused only on drawer-specific functionality
    });
</script>
{# <div class="fixed right-0 top-0 h-screen w-[calc(250px+1rem)] bg-base-200/90 backdrop-blur text-base-content z-40 transition-transform duration-300 overflow-y-auto translate-x-full" id="right-sidebar">
  <ul class="menu p-4 min-h-full mt-12" style="width: 250px !important">
    <li>
      <a href="/dashboard" class="flex justify-between items-center"></a>
    </li>

    <li>
      <a href="/doppel" class="flex justify-between items-center hover:bg-primary hover:text-primary-content" style="width: 100% !important; background-color: color-mix( in oklab, var(--color-secondary, var(--color-base-content)) 8%, var(--color-base-100) )">
        <span>Data-brick</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cuboid-icon lucide-cuboid">
          <path d="m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z" />
          <path d="M10 22v-8L2.25 9.15" />
          <path d="m10 14 11.77-6.87" />
        </svg>
      </a>
      <ul id="doppel-all-files-list" style="margin-left: 0rem !important">
        <!-- All files will be populated here consecutively -->
      </ul>
    </li>

    <li>
      <a href="/doppel" class="flex justify-between items-center hover:bg-primary hover:text-primary-content" style="width: 100% !important; background-color: color-mix( in oklab, var(--color-secondary, var(--color-base-content)) 8%, var(--color-base-100) )">
        <span>Doppel</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-drama-icon lucide-drama">
          <path d="M10 11h.01" />
          <path d="M14 6h.01" />
          <path d="M18 6h.01" />
          <path d="M6.5 13.1h.01" />
          <path d="M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3" />
          <path d="M17.4 9.9c-.8.8-2 .8-2.8 0" />
          <path d="M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7" />
          <path d="M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4" />
        </svg>
      </a>
      <ul id="doppel-all-files-list" style="margin-left: 0rem !important">
        <!-- All files will be populated here consecutively -->
      </ul>
    </li>

    <!-- Theme Selector - moved outside the main li to avoid overflow issues -->
    <li class="mt-6">
      <div class="text-sm font-semibold mb-2">Th√®mes</div>
      <ul class="">
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'anchor')">
            ‚ö°Ô∏è anchor
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'purple')">
            üü™ Purple
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'dark-black')">
            ‚ö´Ô∏è DarkBlack
          </button>
        </li>

        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'night')">
            üåí Night
          </button>
        </li>

        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'light')">
            Light
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'dark')">
            Dark
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'zelie')">
            Zelie
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'cyberpunk')">
            Cyberpunk
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'dracula')">
            Dracula
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'emerald')">
            Emerald
          </button>
        </li>
        <li>
          <button class="btn btn-sm bg-base-200/50 hover:bg-primary hover:text-primary-content w-full" onclick="document.documentElement.setAttribute('data-theme', 'nord')">
            Nord
          </button>
        </li>
      </ul>
    </li>

    <li class="mt-auto">
      <div class="join font-mono">
        <span class="badge join-item badge-neutral">1<sup>√®re</sup></span>
        <span class="badge join-item badge-secondary badge-soft">Sp√©. Maths</span>
      </div>
    </li>
  </ul>
</div>

<button class="btn btn-circle hover:bg-transparent btn-lg fixed bottom-4 right-4 z-50 spin-scale-hover" id="right-toggle">
  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
    <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
    <circle cx="12" cy="12" r="3" />
  </svg>
</button> #}
