<style>
    @media (max-width: 639px) {

        #nb-eleves {
            width: calc(100% - 40px - 40px);
        }

        #nb-questions {
            width: calc(100% - 40px - 40px);
        }
    }
</style>

<div class="flex card justify-center">
  <form class="w-full mt-8" id="arpege-form">
    <!-- Two main columns: numbers on left, radio buttons on right -->
    <div class="flex flex-col sm:flex-row gap-4 sm:gap-8">
      <!-- Left column: Number inputs -->
      <div class="flex flex-col gap-4 sm:gap-8 flex-1">
        <fieldset class="fieldset">
          <legend class="fieldset-legend w-full flex justify-between items-center">
            <div class="font-light font-heading text-base md:text-lg">Copies à générer</div>
            <div class="relative">
              <div class="badge badge-outline badge-sm cursor-help peer">?</div>
              <div class="absolute bottom-full right-0 mb-2 px-3 py-2 bg-base-300 text-base-content text-sm rounded shadow-lg opacity-0 pointer-events-none peer-hover:opacity-100 peer-hover:pointer-events-auto transition-opacity duration-200 whitespace-nowrap z-50"
                   style="font-weight: 300 !important">
                Toutes les copies utiliseront
                <br />
                les mêmes questions issues des sujets 0,
                <br />
                mais avec des valeurs aléatoires.
              </div>
            </div>
            <div class="relative hidden">
              <div class="badge badge-outline badge-sm cursor-help peer">?</div>
              <div class="absolute bottom-full right-0 mb-2 px-3 py-2 bg-base-300 text-base-content text-sm rounded shadow-lg opacity-0 pointer-events-none peer-hover:opacity-100 peer-hover:pointer-events-auto transition-opacity duration-200 whitespace-nowrap z-50"
                   style="font-weight: 300 !important">tooltiptext</div>
            </div>
          </legend>
          <div class="join w-full">
            <input type="number"
                   id="nb-eleves"
                   name="nb-eleves"
                   min="1"
                   max="50"
                   value="30"
                   required
                   class="input join-item w-full"
                   aria-describedby="nb-eleves-help" />
            <button type="button"
                    class="btn join-item"
                    onclick="document.getElementById('nb-eleves').stepDown()"
                    style="width:40px;
                           height:40px">-</button>
            <button type="button"
                    class="btn join-item"
                    onclick="document.getElementById('nb-eleves').stepUp()"
                    style="width:40px;
                           height:40px">+</button>
          </div>
          <p class="label">Obligatoire, entre 1 et 50.</p>
        </fieldset>

        <fieldset class="fieldset">
          <legend class="fieldset-legend w-full flex justify-between items-center">
            <div class="font-light font-heading text-base md:text-lg">Questions par copie</div>
            <div class="relative">
              <div class="badge badge-outline badge-sm cursor-help peer">?</div>
              <div class="absolute bottom-full right-0 mb-2 px-3 py-2 bg-base-300 text-base-content text-sm rounded shadow-lg opacity-0 pointer-events-none peer-hover:opacity-100 peer-hover:pointer-events-auto transition-opacity duration-200 whitespace-nowrap z-50"
                   style="font-weight: 300 !important">
                Nombre de questions
                <br />
                par copie (entre 1 et 12).
                <br />
                Une partie A d'un sujet 0 officiel
                <br />
                compte 12 questions.
              </div>
            </div>
          </legend>
          <div class="join w-full">
            <input type="number"
                   id="nb-questions"
                   name="nb-questions"
                   min="1"
                   max="12"
                   value="12"
                   required
                   class="input join-item w-full"
                   aria-describedby="nb-questions-help" />
            <button type="button" class="btn join-item" onclick="document.getElementById('nb-questions').stepDown()">
              -
            </button>
            <button type="button" class="btn join-item" onclick="document.getElementById('nb-questions').stepUp()">
              +
            </button>
          </div>
          <p class="label">Obligatoire, entre 1 et 12.</p>
        </fieldset>
      </div>

      <!-- Right column: Radio buttons -->
      <div class="flex flex-col gap-4 sm:gap-8 flex-1">
        <fieldset class="fieldset">
          <legend class="fieldset-legend w-full flex justify-between items-center">
            <div class="font-light font-heading text-base md:text-lg">Programmes officiels couverts</div>
            <div class="relative">
              <div class="badge badge-outline badge-sm cursor-help peer">?</div>
              <div class="absolute bottom-full right-0 mb-2 px-3 py-2 bg-base-300 text-base-content text-sm rounded shadow-lg opacity-0 pointer-events-none peer-hover:opacity-100 peer-hover:pointer-events-auto transition-opacity duration-200 whitespace-nowrap z-50"
                   style="font-weight: 300 !important">
                <strong>La majorité des questions relèvent du
                  <br />
                programme de 2<sup>nde</sup>.</strong>
                <br />
                <br />
                Restreindre ou non la sélection
                <br />
                des questions à celles des sujets 0
                <br />
                qui ne nécessitent pas (forcément)
                <br />
                le programme de 1<sup>ère</sup>.


              </div>
            </div>
          </legend>
          <div class="join">
            <input class="join-item btn btn-outline w-[50%] font-extralight"
                   type="radio"
                   name="options"
                   aria-label="2nde" />
            <input class="join-item btn btn-outline w-[50%] font-extralight"
                   type="radio"
                   name="options"
                   aria-label="2nde & 1ère" />
          </div>
          <p class="label" style="gap:0 !important">
            Obligatoire, restreindre ou non au programme de 2<sup>nde</sup>.
          </p>
        </fieldset>

        <fieldset class="fieldset">
          <legend class="fieldset-legend w-full flex justify-between items-center">
            <div class="font-light font-heading text-base md:text-lg">Filière / Spécialité</div>
            <div class="relative">
              <div class="badge badge-outline badge-sm cursor-help peer">?</div>
              <div class="absolute bottom-full right-0 mb-2 px-3 py-2 bg-base-300 text-base-content text-sm rounded shadow-lg opacity-0 pointer-events-none peer-hover:opacity-100 peer-hover:pointer-events-auto transition-opacity duration-200 whitespace-nowrap z-50"
                   style="font-weight: 300 !important">
                Spé : Spécialité Maths
                <br />
                Non Spé : Enseignement Spécifique
                <br />
                Techno = Filière technologique
                <br />
                Détails disponibles sur le site du ministère,
                <br />
                liens dans la sections "Consulter les sujets 0".
              </div>
            </div>
          </legend>
          <div class="join">
            <input class="join-item btn w-[33.3%] font-light input-sm" type="radio" name="sujets0" aria-label="Spé." />
            <input class="join-item btn w-[33.3%] font-light input-sm"
                   type="radio"
                   name="sujets0"
                   aria-label="Non Spé." />
            <input class="join-item btn w-[33.3%] font-light input-sm"
                   type="radio"
                   name="sujets0"
                   aria-label="Techno"
                   disabled />
          </div>
          <p class="label">Obligatoire, entre 1 et 50.</p>
        </fieldset>
      </div>
    </div>

    <fieldset class="fieldset">
      <!-- Button to execute all generators -->
      <div class="mt-8">
        <button id="execute-all-generators-btn"
                type="button"
                class="btn btn-primary btn-disabled w-full"
                disabled
                title="Waiting for Nagini to load...">
          <svg xmlns="http://www.w3.org/2000/svg"
               class="h-5 w-5 mr-2"
               viewBox="0 0 24 24"
               fill="none"
               stroke="currentColor"
               stroke-width="2"
               stroke-linecap="round"
               stroke-linejoin="round">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          Générer
        </button>
      </div>
      {# <span class="ml-3 text-sm text-base-content/60">Exécute 3 générateurs de questions</span> #}
    </fieldset>
  </form>
</div>

<!-- Container for generator execution results from sujets0-main.js -->
<div id="generator-results-container" class="mt-6"></div>
