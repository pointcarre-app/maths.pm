{% extends "base/main-alt.html" %}


{% block extra_head %}
  <link rel="stylesheet" href="{{ request.url_for('static', path='css/features/sujets0.css') }}" />
{% endblock extra_head %}

{% block content %}
  <div class="padding-alt-security sm:mb-28">
    <div class="card shadow-lg mx-auto py-6 card mt-12">
      <h1 class="text-center text-2xl font-bold text-base-content/60 mb-1"></h1>
      <h2 class="text-center text-xl font-bold mb-3">
        Pour l'√©preuve anticip√©e de math√©matiques en classe de 1√®re
      </h2>
      <div class="max-w-[400px] mx-auto">{% include "products/nagini-figure-svg.html" %}</div>
    </div>
    <div class="grid grid-cols-3 gap-2 sm:gap-4 max-w-4xl mx-auto mt-12">
      <button class="btn btn-sm md:btn-md  btn-neutral btn-outline btn-active" data-tab="generate">
        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 hidden sm:block"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round">
          <path d="M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2" />
          <rect x="14" y="2" width="8" height="8" rx="1" />
        </svg>
        <span style="font-weight: 400;">G√©n√©rer<span class="hidden sm:inline">des exercices</span> </span>
      </button>
      <button class="btn btn-sm md:btn-md btn-outline btn-neutral" data-tab="documentation">
        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 hidden sm:block"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round"
             class="lucide lucide-file-text-icon lucide-file-text">
          <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" />
          <path d="M14 2v4a2 2 0 0 0 2 2h4" />
          <path d="M10 9H8" />
          <path d="M16 13H8" />
          <path d="M16 17H8" />
        </svg>
        <span style="font-weight: 400;">
          <span class="hidden sm:inline">Lire la documentation</span>
          <span class="sm:hidden">Documentation</span>
        </span>
      </button>
      <button class="btn btn-sm md:btn-md btn-outline btn-neutral" data-tab="subjects">

        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 hidden sm:block"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round"
             class="lucide lucide-landmark-icon lucide-landmark">
          <path d="M10 18v-7" />
          <path d="M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z" />
          <path d="M14 18v-7" />
          <path d="M18 18v-7" />
          <path d="M3 22h18" />
          <path d="M6 18v-7" />
        </svg>
        <span style="font-weight: 400;">
          <span class="hidden sm:inline">Consulter les Sujets 0</span>
          <span class="sm:hidden">Sujets 0</span>
        </span>
      </button>
    </div>

    <div class="tab-alt-content card mt-6" id="generate-content">
      {% include "sujets0/generate-content.html" %}
    </div>


    <div class="space-y-6 tab-alt-content tab-alt-hidden" id="documentation-content">
      <div>
        <div class="font-heading text-xl mb-2">Documentation</div>
        <div>
          Consultez la documentation compl√®te pour comprendre le fonctionnement de l'application et d√©couvrir toutes les fonctionnalit√©s disponibles.
        </div>
      </div>

      <div>
        <div class="font-heading text-xl mb-2">G√©n√©ration d'exercices</div>
        <div>
          Cette application permet de g√©n√©rer des exercices inspir√©s des Sujets 0 du minist√®re de l'√âducation nationale. Ces exercices et leurs corrections sont g√©n√©r√©s al√©atoirement gr√¢ce √† un moteur de calcul formel.
        </div>
      </div>
      <div>
        <div class="font-heading text-xl mb-2">Fonctionnalit√©s</div>
        <div>
          <ul class="list-disc list-inside mb-2">
            <li>G√©n√©ration automatique d'exercices QCM</li>
            <li>Corrections d√©taill√©es avec explications</li>
            <li>Moteur de calcul formel int√©gr√©</li>
            <li>Exercices adapt√©s aux programmes officiels</li>
          </ul>
        </div>
      </div>


      <div>
        <div class="font-heading text-xl mb-2">Guide d'utilisation</div>
        <div>
          <ul class="list-disc list-inside mb-2">
            <li>Comment g√©n√©rer des exercices</li>
            <li>Personnaliser les param√®tres</li>
            <li>Exporter les r√©sultats</li>
            <li>Int√©grer dans vos cours</li>
          </ul>
        </div>
      </div>
    </div>


    <div class="space-y-6 tab-alt-content tab-alt-hidden" id="subjects-content">
      <div>
        <div class="font-heading text-xl mb-2">Sujets 0 de juillet 2025</div>
        <div>
          Le minist√®re a publi√© :
          <ul class="list-disc list-inside mb-2">
            <li>2 sujets 0 pour l'enseignement de sp√©cialit√©</li>
            <li>3 sujets 0 pour l'enseignement sp√©cifique</li>
            <li>2 sujets 0 pour les fili√®res technologiques</li>
          </ul>
          Chaque sujet est compos√© de 2 parties :
          <ul class="list-disc list-inside mb-2">
            <li>Partie 1 : QCM de 12 questions pour v√©rifier les automatismes</li>
            <li>Partie 2 : 2 exercices entre l'application directe et la r√©solution de probl√®mes</li>
          </ul>
        </div>
      </div>
    </div>


    <script>
        console.log('Script is loading...');

        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded!');

            // Get all tab buttons and content areas
            const tabButtons = document.querySelectorAll('[data-tab]');
            const tabContents = document.querySelectorAll('.tab-alt-content');

            console.log('Found buttons:', tabButtons.length);
            console.log('Found content areas:', tabContents.length);

            // Log each button found
            tabButtons.forEach((btn, index) => {
                console.log(`Button ${index}:`, btn.getAttribute('data-tab'));
            });

            // Add click event listeners to all buttons
            tabButtons.forEach(button => {
                console.log('Adding listener to button:', button.getAttribute('data-tab'));

                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('üî• BUTTON CLICKED:', this.getAttribute('data-tab'));

                    // Remove active class from all buttons
                    tabButtons.forEach(btn => {
                        btn.classList.remove('btn-active');
                        console.log('Removed active from:', btn.getAttribute('data-tab'));
                    });

                    // Add active class to clicked button
                    this.classList.add('btn-active');
                    console.log('Added active to:', this.getAttribute('data-tab'));

                    // Get the tab name from data-tab attribute
                    const tabName = this.getAttribute('data-tab');

                    // Hide all tab contents
                    tabContents.forEach(content => {
                        content.classList.add('tab-alt-hidden');
                        console.log('Hiding content:', content.id);
                    });

                    // Show the selected tab content
                    const selectedContent = document.getElementById(tabName + '-content');
                    console.log('Looking for content ID:', tabName + '-content');
                    console.log('Selected content:', selectedContent);
                    if (selectedContent) {
                        selectedContent.classList.remove('tab-alt-hidden');
                        console.log('‚úÖ Showing content:', selectedContent.id);
                    } else {
                        console.log('‚ùå Content not found!');
                    }
                });
            });
        });

        // Also add a simple test
        console.log('Adding test click handler...');
        setTimeout(() => {
            const testButton = document.querySelector('[data-tab="generate"]');
            console.log('Test button found:', testButton);
            if (testButton) {
                testButton.onclick = function() {
                    console.log('DIRECT CLICK WORKED!');
                };
            }
        }, 1000);
    </script>
  </div>
{% endblock content %}
