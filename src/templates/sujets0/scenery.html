{% extends "base/main-alt.html" %}

{% block title %}
  {% if product_metatags and product_metatags.title %}
    {{ product_metatags.title }}
  {% else %}
    Sujets 0 - Exercices mathématiques pour l'épreuve anticipée de 1ère
  {% endif %}
{% endblock title %}

{% block extra_head %}
  {# Product-specific metatags override defaults #}
  {% if product_metatags %}
    {# SEO metatags #}
    {% if product_metatags.description %}
      <meta name="description" content="{{ product_metatags.description }}" />
    {% endif %}
    {% if product_metatags.keywords %}
      <meta name="keywords" content="{{ product_metatags.keywords }}" />
    {% endif %}
    {% if product_metatags.robots %}
      <meta name="robots" content="{{ product_metatags.robots }}" />
    {% endif %}

    {# Open Graph metatags #}
    {% if product_metatags['og:title'] %}
      <meta property="og:title" content="{{ product_metatags['og:title'] }}" />
    {% endif %}
    {% if product_metatags['og:description'] %}
      <meta property="og:description" content="{{ product_metatags['og:description'] }}" />
    {% endif %}
    {% if product_metatags['og:image'] %}
      <meta property="og:image" content="{{ product_metatags['og:image'] }}" />
    {% endif %}
    {% if product_metatags['og:url'] %}
      <meta property="og:url" content="{{ product_metatags['og:url'] }}" />
    {% endif %}

    {# Twitter Card metatags #}
    {% if product_metatags['twitter:card'] %}
      <meta name="twitter:card" content="{{ product_metatags['twitter:card'] }}" />
    {% endif %}
    {% if product_metatags['twitter:title'] %}
      <meta name="twitter:title" content="{{ product_metatags['twitter:title'] }}" />
    {% endif %}
    {% if product_metatags['twitter:description'] %}
      <meta name="twitter:description" content="{{ product_metatags['twitter:description'] }}" />
    {% endif %}
    {% if product_metatags['twitter:image'] %}
      <meta name="twitter:image" content="{{ product_metatags['twitter:image'] }}" />
    {% endif %}

    {# Dublin Core metatags #}
    {% for key, value in product_metatags.items() %}
      {% if key.startswith('DC.') %}<meta name="{{ key }}" content="{{ value }}" />{% endif %}
    {% endfor %}

    {# Any other custom metatags #}
    {% if product_metatags.revised %}
      <meta name="revised" content="{{ product_metatags.revised }}" />
    {% endif %}
    {% if product_metatags.topic %}
      <meta name="topic" content="{{ product_metatags.topic }}" />
    {% endif %}
    {% if product_metatags.summary %}
      <meta name="summary" content="{{ product_metatags.summary }}" />
    {% endif %}
    {% if product_metatags.category %}
      <meta name="category" content="{{ product_metatags.category }}" />
    {% endif %}
  {% endif %}

  {# Backend settings disabled - we load Nagini manually in the content block #}
{% endblock extra_head %}

{% block modal_info_content %}
  {% include "sujets0/modal-info-content.html" %}
{% endblock modal_info_content %}

{% block content %}
  <div class="padding-alt-security mx-auto mb-14 mt-12 max-w-3xl ">
    {% include "sujets0/header.html" %}

    {# <div class="card shadow-lg mx-auto py-6 card mt-12">
      <h1 class="text-center text-2xl font-bold text-base-content/60 mb-1">Sujets 0</h1>
      <h2 class="text-center text-xl font-bold mb-3">
        Pour l'épreuve anticipée de mathématiques en classe de 1ère
      </h2>
      <div class="max-w-[400px] mx-auto">{% include "products/sujets0-figure-svg.html" %}</div>
    </div> #}
    <div class="grid grid-cols-3 gap-2 sm:gap-4 max-w-4xl mx-auto mt-12">
      <button class="btn btn-sm md:btn-md  btn-neutral btn-outline btn-active" data-tab="generate">
        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 hidden sm:block"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round">
          <path d="M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2" />
          <rect x="14" y="2" width="8" height="8" rx="1" />
        </svg>
        <span class="font-normal">Générer<span class="hidden sm:inline">des exercices</span> </span>
      </button>
      <button class="btn btn-sm md:btn-md btn-outline btn-neutral" data-tab="documentation">
        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 hidden sm:block"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round"
             class="lucide lucide-file-text-icon lucide-file-text">
          <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" />
          <path d="M14 2v4a2 2 0 0 0 2 2h4" />
          <path d="M10 9H8" />
          <path d="M16 13H8" />
          <path d="M16 17H8" />
        </svg>
        <span class="font-normal">
          <span class="hidden sm:inline">Lire la documentation</span>
          <span class="sm:hidden">Documentation</span>
        </span>
      </button>
      <button class="btn btn-sm md:btn-md btn-outline btn-neutral" data-tab="subjects">

        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-5 w-5 hidden sm:block"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round"
             class="lucide lucide-landmark-icon lucide-landmark">
          <path d="M10 18v-7" />
          <path d="M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z" />
          <path d="M14 18v-7" />
          <path d="M18 18v-7" />
          <path d="M3 22h18" />
          <path d="M6 18v-7" />
        </svg>
        <span class="font-normal">
          <span class="hidden sm:inline">Consulter les Sujets 0</span>
          <span class="sm:hidden">Sujets 0</span>
        </span>
      </button>
    </div>

    <div class="tab-alt-content card mt-6" id="generate-content">
      {% include "sujets0/generate-content.html" %}
    </div>

    <div class="space-y-6 tab-alt-content tab-alt-hidden" id="documentation-content">
      <div>
        <div class="font-heading text-xl mb-2">Documentation</div>
        <div>
          Consultez la documentation complète pour comprendre le fonctionnement de l'application et découvrir toutes les fonctionnalités disponibles.
        </div>
      </div>

      <div>
        <div class="font-heading text-xl mb-2">Génération d'exercices</div>
        <div>
          Cette application permet de générer des exercices inspirés des Sujets 0 du ministère de l'Éducation nationale. Ces exercices et leurs corrections sont générés aléatoirement grâce à un moteur de calcul formel.
        </div>
      </div>
      <div>
        <div class="font-heading text-xl mb-2">Fonctionnalités</div>
        <div>
          <ul class="list-disc list-inside mb-2">
            <li>Génération automatique d'exercices QCM</li>
            <li>Corrections détaillées avec explications</li>
            <li>Moteur de calcul formel intégré</li>
            <li>Exercices adaptés aux programmes officiels</li>
          </ul>
        </div>
      </div>

      <div>
        <div class="font-heading text-xl mb-2">Guide d'utilisation</div>
        <div>
          <ul class="list-disc list-inside mb-2">
            <li>Comment générer des exercices</li>
            <li>Personnaliser les paramètres</li>
            <li>Exporter les résultats</li>
            <li>Intégrer dans vos cours</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="space-y-6 tab-alt-content tab-alt-hidden" id="subjects-content">
      <div>
        <div class="font-heading text-xl mb-2">Sujets 0 de juillet 2025</div>
        <div>
          Le ministère a publié :
          <ul class="list-disc list-inside mb-2">
            <li>2 sujets 0 pour l'enseignement de spécialité</li>
            <li>3 sujets 0 pour l'enseignement spécifique</li>
            <li>2 sujets 0 pour les filières technologiques</li>
          </ul>
          Chaque sujet est composé de 2 parties :
          <ul class="list-disc list-inside mb-2">
            <li>Partie 1 : QCM de 12 questions pour vérifier les automatismes</li>
            <li>Partie 2 : 2 exercices entre l'application directe et la résolution de problèmes</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Load Sujets0 main module -->
  <script type="module">
      import {
          init
      } from '/static/js/sujets0/sujets0-main.js';

      // Initialize the module when DOM is ready
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', init);
      } else {
          // DOM is already loaded
          init();
      }
  </script>


{% endblock content %}
